<!DOCTYPE html>
<html>
    <head>
        <title>Lua 5.2 参考手册——9，Lua 完整语法</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
        <link href="custom.css" rel="stylesheet" media="screen">
    </head>
    <body data-spy="scroll" data-target=".bs-docs-sidebar">
        <div class="navbar">
          <div class="navbar-inner">
            <div class="container">
                <a class="brand" href="#">目录</a>
                <ul class="nav">
                  <li><a href="index.html" title="Introduction">1，简介</a></li>
                  <li><a href="concept.html" title="Basic Concepts">2，基本概念</a></li>
                  <li><a href="language.html" title="The Language">3，语言</a></li>
                  <li><a href="api.html" title="The Application Program Interface">4，应用程序接口(API)</a></li>
                  <li><a href="auxiliary.html" title="The Auxiliary Library">5，辅助库</a></li>
                  <li><a href="standard.html" title="Standard Library">6，标准库</a></li>
                  <li><a href="standalone.html" title="Lua Standalone">7，Lua 独立</a></li>
                  <li><a href="incompatibility.html" title="Incompatibilities with the Previous Version">8，与之前版本的不兼容性</a></li>
                  <li class="active"><a href="syntax.html" title="The Complete Syntax of Lua">9，Lua 完整语法</a></li>
                </ul>
            </div>
          </div>
        </div>

        <div class="container-fluid container">
          <div class="row-fluid">

            <div class="span9">
                <div class="hero-unit">
                    <a class="site" href="http://www.lua.org/">
                        <img src="lua.gif" title="Lua" />
                    </a>
                    <p>
                      by Roberto Ierusalimschy, Luiz Henrique de Figueiredo, Waldemar Celes
                    </p>
                    <p>
                      Copyright © 2011–2013 Lua.org, PUC-Rio. Freely available under the terms of the <a href="http://www.lua.org/license.html">Lua license</a>.
                    </p>
                    <p>
                      中文翻译：<a href="http://weibo.com/sunnylost">sunnylost</a>，翻译过程中参考了<a href="http://www.codingnow.com/2000/download/lua_manual.html">云风的译文</a>，在此表示感谢。
                  </p>
                </div>

                <div class="span12">
                  <h2>Lua 完整语法</h2>
                  <p>
                    下面就是在扩展的 BNF 上的完整 Lua 语法。(没有描述运算符的优先级)
                  </p>
<pre>
  chunk ::= {stat [`;´]} [laststat [`;´]]

  block ::= chunk

  stat ::=  varlist1 `=´ explist1 | 
     functioncall | 
     do block end | 
     while exp do block end | 
     repeat block until exp | 
     if exp then block {elseif exp then block} [else block] end | 
     for Name `=´ exp `,´ exp [`,´ exp] do block end | 
     for namelist in explist1 do block end | 
     function funcname funcbody | 
     local function Name funcbody | 
     local namelist [`=´ explist1] 

  laststat ::= return [explist1] | break

  funcname ::= Name {`.´ Name} [`:´ Name]

  varlist1 ::= var {`,´ var}

  var ::=  Name | prefixexp `[´ exp `]´ | prefixexp `.´ Name 

  namelist ::= Name {`,´ Name}

  explist1 ::= {exp `,´} exp

  exp ::=  nil | false | true | Number | String | `...´ | function | 
     prefixexp | tableconstructor | exp binop exp | unop exp 

  prefixexp ::= var | functioncall | `(´ exp `)´

  functioncall ::=  prefixexp args | prefixexp `:´ Name args 

  args ::=  `(´ [explist1] `)´ | tableconstructor | String 

  function ::= function funcbody

  funcbody ::= `(´ [parlist1] `)´ block end

  parlist1 ::= namelist [`,´ `...´] | `...´

  tableconstructor ::= `{´ [fieldlist] `}´

  fieldlist ::= field {fieldsep field} [fieldsep]

  field ::= `[´ exp `]´ `=´ exp | Name `=´ exp | exp

  fieldsep ::= `,´ | `;´

  binop ::= `+´ | `-´ | `*´ | `/´ | `^´ | `%´ | `..´ | 
     `<´ | `<=´ | `>´ | `>=´ | `==´ | `~=´ | 
     and | or

  unop ::= `-´ | not | `#´
</pre>
                </div>
             </div>
           </div>
        </div>
	
        <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script src="../bootstrap/js/bootstrap.min.js"></script>
    </body>
</html>